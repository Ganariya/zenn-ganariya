---
title: "Poetry でローカルのパッケージをインストールする"
emoji: "🐷"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ['python', 'poetry']
published: true
---

# はじめに

Poetry で開発しているとき，普段であれば `poetry add numpy` のようにして他パッケージをインストールします。
これは、多くの場合 pypi というパッケージ管理サイトからダウンロードしています。

しかし、ローカルの別のディレクトリで開発しているパッケージをインストールしたい場合があります。
たとえば、会社で pypi には公開したくない自社パッケージがあり、そのパッケージを他パッケージがインストールしたい場合などです。

この記事では、今開発しているパッケージを A 、A が利用するパッケージを B とします。
よって、A を開発する仮想環境の pip で B が表示されるようにしたいです。

# pip の場合

A の仮想環境を activate しておきます。
poetry であれば `poetry shell` です。

あとは B のディレクトリにいって、`pip install -e .` をすればよいです。
これは、今いる B のディレクトリからインストールすることをさします。

当然ですが、この方法では pip に入るだけで pyproject.toml には入りません。

# poetry の場合

B のディレクトリで `poetry add .` をするか
A のディレクトリで `poetry ~/[Aのディレクトリまでのパス]/` のようにパスを指定して、 B をインストールすればよいです。

よく考えたら、pip と同じはずなので、add で入れられるのは自明ですね。
